p7 <- lmer(conscientiousness ~ time1 + time2 + (time1   | mapid) , data=personality)
summary(p7)
library(ggplot2)
gg1 <- ggplot(personality,
aes(x = year, y = conscientiousness, group = mapid)) + geom_line()
gg1
gg9 <- ggplot(example, aes(x = week, y = SMN7, group = ID)) + geom_point(alpha = 0.05) + stat_smooth(method = "lm", se = FALSE)
library(tidyverse)
wide<- tribble(
~ID, ~ext_1, ~ext_2, ~ext_3,
1, 4, 4,4,
2, 6, 5,4,
3, 4,5,6
)
wide
long<- tribble(
~ID, ~time, ~ext,
1, 1,4,
1, 2,4,
1, 3,4,
2, 1,6,
2, 2,5,
2, 3,4,
3, 1,4,
3, 2,5,
3, 3,6
)
long
library(tidyr)
wide_to_long <- wide %>%
gather(ext_1:ext_3,key = "time", value = "ext")
wide_to_long
wide_to_long2 <- wide_to_long %>%
separate(time, into = c("omit", "wave"), sep = "_", convert = TRUE) %>%
select(-omit) %>%
arrange(ID)
wide_to_long2
# Note that the seperate function will identify non numeric characters and use that to seperate the values. You can omit the sep = function to check yourself.
wide.date<- tribble(
~ID, ~ext_1, ~ext_2, ~ext_3, ~date_1, ~date_2, ~date_3,
1, 4, 4,4, '1/1/10', '5/1/10', '8/1/10',
2, 6, 5,4, '1/6/10', '4/10/10', '9/1/10',
3, 4,5,6, '1/8/10', '4/25/10', '9/13/10'
)
wide.date
long.date <- wide.date %>%
gather(-ID, key = "time", value = "value") %>%
separate(time, into = c("variable", "wave")) %>%
spread(variable,value)
long.date
long_to_wide <- long %>%
spread(time, ext)
long_to_wide
library(ggplot2)
example <- read_csv("~/Box Sync/5165 Applied Longitudinal Data Analysis/Longitudinal/example.csv")
gg1 <- ggplot(example,
aes(x = week, y = SMN7, group = ID)) + geom_point()
print(gg1)
gg2 <- ggplot(example,
aes(x = week, y = SMN7, group = ID)) + geom_line()
gg2
gg3 <- ggplot(example,
aes(x = week, y = SMN7, group = ID)) + geom_line() +  geom_point() + facet_wrap( ~ ID)
gg3
gg4 <- ggplot(example,
aes(x = week, y = SMN7, group = ID)) + geom_line() + facet_grid(. ~ group)
gg4
gg5 <-  gg2 + aes(colour = factor(ID)) + guides(colour=FALSE)
gg5
set.seed(11)
ex.random <- example %>%
select(ID) %>%
distinct %>%
sample_n(10)
example2 <-
left_join(ex.random, example)
gg6 <- ggplot(example2,
aes(x = week, y = SMN7, group = ID)) +  geom_point() + stat_smooth(method="lm") + facet_wrap( ~ID)
gg6
library(tidyverse)
library(broom)
regressions <- example2 %>%
group_by(ID) %>%
do(tidy(lm(SMN7 ~ week, data=.)))
regressions
regressions %>%
group_by(term) %>%
summarise(avg.reg = mean(estimate))
gg7 <-  gg1 <- ggplot(example, aes(x = week, y = SMN7)) + geom_point() + stat_smooth()
gg7
gg8 <-  ggplot(example, aes(x = week, y = SMN7)) + geom_point() + stat_smooth(method = "lm") + facet_grid(. ~ group)
gg8
gg9 <- ggplot(example, aes(x = week, y = SMN7, group = ID)) + geom_point(alpha = 0.05) + stat_smooth(method = "lm", se = FALSE)
gg9
gg4 <- ggplot(personality,
aes(x = year, y = neuroticism, group = mapid)) + geom_line()
gg4
library(ggplot2)
gg5 <- ggplot(personality,
aes(x = year, y = conscientiousness, group = mapid)) + geom_line()  +  stat_smooth(data = example, aes(x = week, y = SMN7, group=1, color = "black"), method = "lm", size = 2) + guides(fill=FALSE)
gg5
library(ggplot2)
gg5 <- gg4 +  stat_smooth(data = personality, aes(x = year, y = conscientiousness, group=1, color = "black"), method = "lm", size = 2) + guides(fill=FALSE)
gg5
library(ggplot2)
gg5 <- ggplot(personality,
aes(x = year, y = conscientiousness, group = mapid)) + geom_line()   +  stat_smooth(data = personality, aes(x = year, y = conscientiousness, group=1, color = "black"), method = "lm", size = 2) + guides(fill=FALSE)
gg5
library(ggplot2)
gg5 <- ggplot(personality,
aes(x = year, y = conscientiousness, group = mapid)) + geom_line()   +  stat_smooth(data = personality, aes(x = wave, y = conscientiousness, group=1, color = "black"), method = "lm", size = 2) + guides(fill=FALSE)
gg5
library(ggplot2)
gg5 <- ggplot(personality,
aes(x = wave, y = conscientiousness, group = mapid)) + geom_line()   +  stat_smooth(data = personality, aes(x = wave, y = conscientiousness, group=1, color = "black"), method = "lm", size = 2) + guides(fill=FALSE)
gg5
library(ggplot2)
gg5 <- ggplot(personality,
aes(x = wave, y = conscientiousness, group = mapid)) + geom_line()   +  stat_smooth(data = personality, aes(x = wave, y = conscientiousness, group=1), method = "lm", size = 2) + guides(fill=FALSE)
gg5
library(ggplot2)
gg5 <- ggplot(personality,
aes(x = wave, y = conscientiousness, group = mapid)) + geom_line()   +  stat_smooth(data = personality, aes(x = wave, y = conscientiousness, group=1), method = "lm", size = 2)
gg5
library(ggplot2)
gg5 <- ggplot(personality,
aes(x = wave, y = conscientiousness, group = mapid)) + geom_line()   +  stat_smooth(data = personality, aes(x = wave, y = conscientiousness, group=1), method = "lm", size = 2) + + scale_y_continuous(limits = c(30, 40))
library(ggplot2)
gg5 <- ggplot(personality,
aes(x = wave, y = conscientiousness, group = mapid)) + geom_line()   +  stat_smooth(data = personality, aes(x = wave, y = conscientiousness, group=1), method = "lm", size = 2) +  scale_y_continuous(limits = c(30, 40))
gg5
library(ggplot2)
gg5 <- ggplot(personality,
aes(x = wave, y = conscientiousness, group = mapid)) + geom_line()   +  stat_smooth(data = personality, aes(x = wave, y = conscientiousness, group=1), method = "lm", size = 2) +  scale_y_continuous(limits = c(33, 37))
gg5
library(ggplot2)
gg5 <- ggplot(personality,
aes(x = wave, y = conscientiousness, group = mapid))   +  stat_smooth(data = personality, aes(x = wave, y = conscientiousness, group=1), method = "lm", size = 2) +  scale_y_continuous(limits = c(33, 37))
gg5
library(ggplot2)
gg5 <- ggplot(personality,
aes(x = wave, y = conscientiousness, group = mapid))   +  stat_smooth( method = "lm", size = 2) +  scale_y_continuous(limits = c(33, 37))
gg5
library(ggplot2)
gg5 <- ggplot(personality,
aes(x = wave, y = conscientiousness, group = mapid)) + geom_line()   +  stat_smooth(data = personality, aes(x = wave, y = conscientiousness, group=1), method = "lm", size = 2) +  scale_y_continuous(limits = c(33, 37))
gg5
personality$time1 <- recode(personality$wave, '1' = 0 , '2' = 1,  '3' = 1, '4' = 1,'5' = 1)
personality$time2 <- recode(personality$wave, '1' = 0 , '2' = 0,  '3' = 1, '4' = 2,'5' = 3)
p7 <- lmer(conscientiousness ~ time1 + time2 + (time1   | mapid) , data=personality)
summary(p7)
library(ggplot2)
gg5 <- ggplot(personality,
aes(x = wave, y = conscientiousness, group = mapid)) + geom_line()   +  stat_smooth(data = personality, aes(x = wave, y = conscientiousness, group=1), method = "lm", size = 2) +  scale_y_continuous(limits = c(33, 37))
gg5
library(ggplot2)
gg5 <- ggplot(personality,
aes(x = wave, y = conscientiousness, group = mapid)) + geom_line()   +  stat_smooth(data = personality, aes(x = wave, y = conscientiousness, group=1), method = "lm", size = 2) +  scale_y_continuous(limits = c(34, 36))
gg5
library(ggplot2)
gg5 <- ggplot(personality,
aes(x = wave, y = conscientiousness, group = mapid)) + geom_line()   +  stat_smooth(data = personality, aes(x = wave, y = conscientiousness, group=1),  size = 2) +  scale_y_continuous(limits = c(34, 36))
gg5
library(ggplot2)
gg5 <- ggplot(personality,
aes(x = wave, y = conscientiousness, group = mapid)) + geom_line()   +  stat_smooth(data = personality, aes(x = wave, y = conscientiousness, group=1), method = rlm, formula= y ~ ns(x,3)), size = 2) +  scale_y_continuous(limits = c(34, 36))
library(splines)
library(MASS)
library(splines)
library(MASS)
gg5 <- ggplot(personality,
aes(x = wave, y = conscientiousness, group = mapid)) + geom_line()   +  stat_smooth(data = personality, aes(x = wave, y = conscientiousness, group=1), method = rlm, formula= y ~ ns(x,3)), size = 2) +  scale_y_continuous(limits = c(34, 36))
library(splines)
library(MASS)
gg5 <- ggplot(personality,
aes(x = wave, y = conscientiousness, group = mapid)) + geom_line()   +  stat_smooth(data = personality, aes(x = wave, y = conscientiousness, group=1), method = rlm, formula= y ~ ns(x,3))) +  scale_y_continuous(limits = c(34, 36))
library(splines)
library(MASS)
gg5 <- ggplot(personality,
aes(x = wave, y = conscientiousness, group = mapid)) + geom_line()   +  stat_smooth(data = personality, aes(x = wave, y = conscientiousness, group=1), method = rlm, formula= y ~ ns(x,3)) +  scale_y_continuous(limits = c(34, 36))
gg5
library(splines)
library(MASS)
gg5 <- ggplot(personality,
aes(x = wave, y = conscientiousness, group = mapid)) + geom_line()   +  stat_smooth(data = personality, aes(x = wave, y = conscientiousness, group=1), method = rlm, formula= y ~ ns(x,3))
gg5
library(splines)
library(MASS)
gg5 <- ggplot(personality,
aes(x = wave, y = conscientiousness, group = mapid)) + geom_line()   +  stat_smooth(method = 'lm', formula = y ~ poly(x,2),data = personality, aes(x = wave, y = conscientiousness, group=1))
gg5
library(splines)
library(MASS)
gg5 <- ggplot(personality,
aes(x = wave, y = conscientiousness, group = mapid)) + geom_line()   +  stat_smooth(method = 'lm', formula = y ~ poly(x,3),data = personality, aes(x = wave, y = conscientiousness, group=1)) +
gg5
library(splines)
library(MASS)
gg5 <- ggplot(personality,
aes(x = wave, y = conscientiousness, group = mapid)) + geom_line()   +  stat_smooth(method = 'lm', formula = y ~ poly(x,2),data = personality, aes(x = wave, y = conscientiousness, group=1)) +
gg5
library(splines)
library(MASS)
gg5 <- ggplot(personality,
aes(x = wave, y = conscientiousness, group = mapid)) + geom_line()   +  stat_smooth(method = 'lm', formula = y ~ poly(x,2),data = personality, aes(x = wave, y = conscientiousness, group=1)) +
gg5
gg5 <- ggplot(personality,
aes(x = wave, y = conscientiousness, group = mapid)) + geom_line()   +  stat_smooth(method = 'lm', formula = y ~ poly(x,2),data = personality, aes(x = wave, y = conscientiousness, group=1)) +
gg5
gg5 <- ggplot(personality,
aes(x = wave, y = conscientiousness, group = mapid)) + geom_line()   +  stat_smooth(method = 'lm', formula = y ~ poly(x,2),data = personality, aes(x = wave, y = conscientiousness, group=1))
gg5
gg5 <- ggplot(personality,
aes(x = wave, y = conscientiousness, group = mapid)) + geom_line()   +  stat_smooth(method = 'lm', formula = y ~ poly(x,2),data = personality, aes(x = wave, y = conscientiousness, group=1)) + scale_x_continuous(limits = c(30, 40))
gg5
gg5 <- ggplot(personality,
aes(x = wave, y = conscientiousness, group = mapid)) + geom_line()   +  stat_smooth(method = 'lm', formula = y ~ poly(x,2),data = personality, aes(x = wave, y = conscientiousness, group=1)) + scale_y_continuous(limits = c(30, 40))
gg5
gg5 <- ggplot(aes(x = wave, y = conscientiousness), data = personality) +
geom_line(aes(group = mapid), color = "gray") +
geom_smooth(aes(group = 1), size = 3, color = "red", se = FALSE)
gg5
gg5 <- ggplot(personality, aes(x = wave, y = conscientiousness, group = mapid))
+ geom_line() + stat_smooth(method = 'lm', formula = y ~ poly(x,2)) + scale_y_continuous(limits = c(30, 40))
gg5 <- ggplot(personality, aes(x = wave, y = conscientiousness, group = mapid))
+ geom_line() + stat_smooth(method = 'lm', formula = y ~ poly(x,2)) + scale_y_continuous(limits = c(30, 40))
gg5 <- ggplot(personality, aes(x = wave, y = conscientiousness, group = mapid))
+ stat_smooth(method = 'lm', formula = y ~ poly(x,2)) + scale_y_continuous(limits = c(30, 40))
gg5 <- ggplot(personality, aes(x = wave, y = conscientiousness, group = mapid))
+ geom_line() + stat_smooth(method = 'lm', formula = y ~ poly(x,2),data = personality, aes(x = wave, y = conscientiousness, group=1)) + scale_y_continuous(limits = c(30, 40))
gg5 <- ggplot(personality, aes(x = wave, y = conscientiousness, group = mapid)) + geom_line()   +  stat_smooth(method = 'lm', formula = y ~ poly(x,2),data = personality, aes(x = wave, y = conscientiousness, group=1)) + scale_y_continuous(limits = c(30, 40))
gg5
gg5 <- ggplot(personality,  +  stat_smooth(method = 'lm', formula = y ~ poly(x,2),data = personality, aes(x = wave, y = conscientiousness, group=1)) + scale_y_continuous(limits = c(30, 40))
gg5
gg5 <- ggplot(personality, aes(x = wave, y = conscientiousness, group = mapid)) + geom_line()   +  stat_smooth(method = 'lm', formula = y ~ poly(x,2),data = personality, aes(x = wave, y = conscientiousness, group=1)) + scale_y_continuous(limits = c(30, 40))
gg5
gg5 <- ggplot(personality, aes(x = wave, y = conscientiousness, group = mapid)) +  stat_smooth(method = 'lm', formula = y ~ poly(x,2),data = personality, aes(x = wave, y = conscientiousness, group=1)) + scale_y_continuous(limits = c(30, 40))
gg5
gg5 <- ggplot(personality, aes(x = wave, y = conscientiousness, group = mapid)) +  stat_smooth(method = 'lm', formula = y ~ poly(x,2),data = personality, aes(x = wave, y = conscientiousness, group=1)) + scale_y_continuous(limits = c(33, 39))
gg5
gg5 <- ggplot(personality, aes(x = wave, y = conscientiousness, group = mapid)) +  stat_smooth(method = 'lm', formula = y ~ poly(x,2),data = personality, aes(x = wave, y = conscientiousness, group=1)) + scale_y_continuous(limits = c(30, 40))
gg5
gg5 <- ggplot(personality, aes(x = wave, y = conscientiousness, group = mapid)) +  stat_smooth(method = 'lm', formula = y ~ poly(x,3, raw = TRUE),data = personality, aes(x = wave, y = conscientiousness, group=1)) + scale_y_continuous(limits = c(30, 40))
gg5
gg5 <- ggplot(personality, aes(x = wave, y = conscientiousness, group = mapid)) +  stat_smooth(method = 'lm', formula = y ~ poly(x,2, raw = TRUE),data = personality, aes(x = wave, y = conscientiousness, group=1)) + scale_y_continuous(limits = c(30, 40))
gg5
gg5 <- ggplot(personality, aes(x = wave, y = conscientiousness, group = mapid)) +  stat_smooth(method = 'lm', formula = y ~ poly(x,2, raw = TRUE) + scale_y_continuous(limits = c(30, 40))
gg5
gg5 <- ggplot(personality, aes(x = wave, y = conscientiousness, group = mapid)) +  stat_smooth(method = 'lm', formula = y ~ poly(x,2, raw = TRUE) + scale_y_continuous(limits = c(30, 40))
gg5
gg5 <- ggplot(personality, aes(x = wave, y = conscientiousness, group = mapid)) +  stat_smooth(method = 'lm', formula = y ~ poly(x,2, raw = TRUE)
gg5
gg5 <- ggplot(personality, aes(x = wave, y = conscientiousness, group = mapid)) +  stat_smooth(method = 'lm', formula = y ~ poly(conscientiousness,2, raw = TRUE),data = personality, aes(x = wave, y = conscientiousness, group=1)) + scale_y_continuous(limits = c(30, 40))
gg5
gg5 <- ggplot(personality, aes(x = wave, y = conscientiousness, group = mapid)) +  stat_smooth(method = 'lm', formula = y ~ poly(wave,2, raw = TRUE),data = personality, aes(x = wave, y = conscientiousness, group=1)) + scale_y_continuous(limits = c(30, 40))
gg5
gg5 <- ggplot(personality, aes(x = wave, y = conscientiousness, group = mapid)) +  stat_smooth(method = 'lm', formula = y ~ poly(time,2, raw = TRUE),data = personality, aes(x = wave, y = conscientiousness, group=1)) + scale_y_continuous(limits = c(30, 40))
gg5
gg5 <- ggplot(personality, aes(x = wave, y = conscientiousness, group = mapid)) +  stat_smooth(method = 'lm', formula = y ~ poly(x,2, raw = TRUE),data = personality, aes(x = wave, y = conscientiousness, group=1)) + scale_y_continuous(limits = c(30, 40))
gg5
gg5 <- ggplot(personality, aes(x = wave, y = conscientiousness, group = mapid)) +  stat_smooth(method = 'lm', formula = y ~ poly(x,2, raw = TRUE),data = personality, aes(x = wave, y = conscientiousness, group=1)) + scale_y_continuous(limits = c(30, 40))
gg5
library(dplyr)
```{r}
library(tidyverse)
library(tidyverse)
## convert to days from first assessment
library(tidyr)
library(dplyr)
personality.wide <- personality %>%
select(mapid, wave, neodate) %>%
spread(wave, neodate)
rm(list = ls())
library(readr)
cdrs <- read_csv("~/Box Sync/5165 Applied Longitudinal Data Analysis/Longitudinal/cdrs.csv")
personality <- read_csv("~/Box Sync/5165 Applied Longitudinal Data Analysis/Longitudinal/Subject_personality.csv")
library(ggplot2)
gg1 <- ggplot(personality,
aes(x = neodate, y = neuroticism, group = mapid)) + geom_line()
gg1
library(tidyverse)
personality<- personality %>%
group_by(mapid) %>%
arrange(neodate) %>%
mutate(wave = seq_len(n()))
gg2 <- ggplot(personality,
aes(x = wave, y = neuroticism, group = mapid)) + geom_line()
gg2
personality$neodate <- as.Date(personality$neodate, origin = "1900-01-01")
gg3 <- ggplot(personality,
aes(x = neodate, y = neuroticism, group = mapid)) + geom_line()
gg3
rm(list = ls())
library(readr)
cdrs <- read_csv("~/Box Sync/5165 Applied Longitudinal Data Analysis/Longitudinal/cdrs.csv")
personality <- read_csv("~/Box Sync/5165 Applied Longitudinal Data Analysis/Longitudinal/Subject_personality.csv")
library(ggplot2)
gg1 <- ggplot(personality,
aes(x = neodate, y = neuroticism, group = mapid)) + geom_line()
gg1
library(tidyverse)
personality<- personality %>%
group_by(mapid) %>%
arrange(neodate) %>%
mutate(wave = seq_len(n()))
gg2 <- ggplot(personality,
aes(x = wave, y = neuroticism, group = mapid)) + geom_line()
gg2
personality$neodate <- as.Date(personality$neodate, origin = "1900-01-01")
gg3 <- ggplot(personality,
aes(x = neodate, y = neuroticism, group = mapid)) + geom_line()
gg3
personality.wide <- personality %>%
select(mapid, wave, neodate)
personality.wide <- personality %>%
select(mapid, wave, neodate) %>%
spread(wave, neodate)
## convert to days from first assessment
library(tidyr)
library(dplyr)
personality.wide <- personality %>%
select(mapid, wave, neodate) %>%
spread(wave, neodate)
personality.wide$wave_1 <- personality.wide$'1'
personality.wide$wave_2 <- personality.wide$'2'
personality.wide$wave_3 <- personality.wide$'3'
personality.wide$wave_4 <- personality.wide$'4'
personality.wide$wave_5 <- personality.wide$'5'
personality.wide <- personality.wide %>%
mutate (w_1 = (wave_1 - wave_1)/365,
w_2 = (wave_2 - wave_1)/365,
w_3 = (wave_3 - wave_1)/365,
w_4 = (wave_4 - wave_1)/365,
w_5 = (wave_5 - wave_1)/365)
personality.long <- personality.wide %>%
select(mapid, w_1:w_5) %>%
gather(wave, year, -mapid) %>%
separate(wave, c('weeks', 'wave' ), sep="_") %>%
select(-weeks)
personality.long$wave <-  as.numeric(personality.long$wave)
personality <- personality %>%
left_join(personality.long, by = c('mapid', 'wave' ))
rm(list = ls())
personality.wide <- personality %>%
select(mapid, wave, neodate) %>%
spread(wave, neodate)
rm(list = ls())
library(readr)
cdrs <- read_csv("~/Box Sync/5165 Applied Longitudinal Data Analysis/Longitudinal/cdrs.csv")
personality <- read_csv("~/Box Sync/5165 Applied Longitudinal Data Analysis/Longitudinal/Subject_personality.csv")
library(ggplot2)
gg1 <- ggplot(personality,
aes(x = neodate, y = neuroticism, group = mapid)) + geom_line()
gg1
library(tidyverse)
personality<- personality %>%
group_by(mapid) %>%
arrange(neodate) %>%
mutate(wave = seq_len(n()))
gg2 <- ggplot(personality,
aes(x = wave, y = neuroticism, group = mapid)) + geom_line()
gg2
personality$neodate <- as.Date(personality$neodate, origin = "1900-01-01")
gg3 <- ggplot(personality,
aes(x = neodate, y = neuroticism, group = mapid)) + geom_line()
gg3
personality.wide <- personality %>%
select(mapid, wave, neodate) %>%
spread(wave, neodate)
rm(list = ls())
library(readr)
cdrs <- read_csv("~/Box Sync/5165 Applied Longitudinal Data Analysis/Longitudinal/cdrs.csv")
personality <- read_csv("~/Box Sync/5165 Applied Longitudinal Data Analysis/Longitudinal/Subject_personality.csv")
library(ggplot2)
gg1 <- ggplot(personality,
aes(x = neodate, y = neuroticism, group = mapid)) + geom_line()
gg1
library(tidyverse)
personality<- personality %>%
group_by(mapid) %>%
arrange(neodate) %>%
mutate(wave = seq_len(n()))
gg2 <- ggplot(personality,
aes(x = wave, y = neuroticism, group = mapid)) + geom_line()
gg2
personality$neodate <- as.Date(personality$neodate, origin = "1900-01-01")
gg3 <- ggplot(personality,
aes(x = neodate, y = neuroticism, group = mapid)) + geom_line()
gg3
## convert to days from first assessment
library(tidyr)
library(dplyr)
personality.wide <- personality %>%
select(mapid, wave, neodate) %>%
spread(wave, neodate)
personality.wide$wave_1 <- personality.wide$'1'
personality.wide$wave_2 <- personality.wide$'2'
personality.wide$wave_3 <- personality.wide$'3'
personality.wide$wave_4 <- personality.wide$'4'
personality.wide$wave_5 <- personality.wide$'5'
personality.wide <- personality.wide %>%
mutate (w_1 = (wave_1 - wave_1)/365,
w_2 = (wave_2 - wave_1)/365,
w_3 = (wave_3 - wave_1)/365,
w_4 = (wave_4 - wave_1)/365,
w_5 = (wave_5 - wave_1)/365)
personality.long <- personality.wide %>%
select(mapid, w_1:w_5) %>%
gather(wave, year, -mapid) %>%
separate(wave, c('weeks', 'wave' ), sep="_") %>%
select(-weeks)
personality.long$wave <-  as.numeric(personality.long$wave)
personality <- personality %>%
left_join(personality.long, by = c('mapid', 'wave' ))
rm(list = ls())
personality.wide <- personality %>%
select(mapid, wave, neodate) %>%
spread(wave, neodate)
## convert to days from first assessment
library(tidyr)
library(dplyr)
personality.wide <- personality %>%
select(mapid, wave, neodate) %>%
spread(wave, neodate)
rm(list = ls())
library(readr)
cdrs <- read_csv("~/Box Sync/5165 Applied Longitudinal Data Analysis/Longitudinal/cdrs.csv")
personality <- read_csv("~/Box Sync/5165 Applied Longitudinal Data Analysis/Longitudinal/Subject_personality.csv")
library(ggplot2)
gg1 <- ggplot(personality,
aes(x = neodate, y = neuroticism, group = mapid)) + geom_line()
gg1
library(tidyverse)
personality<- personality %>%
group_by(mapid) %>%
arrange(neodate) %>%
mutate(wave = seq_len(n()))
gg2 <- ggplot(personality,
aes(x = wave, y = neuroticism, group = mapid)) + geom_line()
gg2
personality$neodate <- as.Date(personality$neodate, origin = "1900-01-01")
gg3 <- ggplot(personality,
aes(x = neodate, y = neuroticism, group = mapid)) + geom_line()
gg3
## convert to days from first assessment
library(tidyr)
library(dplyr)
personality.wide <- personality %>%
select(mapid, wave, neodate) %>%
spread(wave, neodate)
personality.wide$wave_1 <- personality.wide$'1'
personality.wide$wave_2 <- personality.wide$'2'
personality.wide$wave_3 <- personality.wide$'3'
personality.wide$wave_4 <- personality.wide$'4'
personality.wide$wave_5 <- personality.wide$'5'
personality.wide <- personality.wide %>%
mutate (w_1 = (wave_1 - wave_1)/365,
w_2 = (wave_2 - wave_1)/365,
w_3 = (wave_3 - wave_1)/365,
w_4 = (wave_4 - wave_1)/365,
w_5 = (wave_5 - wave_1)/365)
personality.long <- personality.wide %>%
select(mapid, w_1:w_5) %>%
gather(wave, year, -mapid) %>%
separate(wave, c('weeks', 'wave' ), sep="_") %>%
select(-weeks)
personality.long$wave <-  as.numeric(personality.long$wave)
personality <- personality %>%
left_join(personality.long, by = c('mapid', 'wave' ))
rm(list = ls())
library(readr)
cdrs <- read_csv("~/Box Sync/5165 Applied Longitudinal Data Analysis/Longitudinal/cdrs.csv")
personality <- read_csv("~/Box Sync/5165 Applied Longitudinal Data Analysis/Longitudinal/Subject_personality.csv")
library(ggplot2)
gg1 <- ggplot(personality,
aes(x = neodate, y = neuroticism, group = mapid)) + geom_line()
gg1
library(tidyverse)
personality<- personality %>%
group_by(mapid) %>%
arrange(neodate) %>%
mutate(wave = seq_len(n()))
gg2 <- ggplot(personality,
aes(x = wave, y = neuroticism, group = mapid)) + geom_line()
gg2
personality$neodate <- as.Date(personality$neodate, origin = "1900-01-01")
gg3 <- ggplot(personality,
aes(x = neodate, y = neuroticism, group = mapid)) + geom_line()
gg3
## convert to days from first assessment
personality.wide <- personality %>%
select(mapid, wave, neodate) %>%
spread(wave, neodate)
personality.wide$wave_1 <- personality.wide$'1'
personality.wide$wave_2 <- personality.wide$'2'
personality.wide$wave_3 <- personality.wide$'3'
personality.wide$wave_4 <- personality.wide$'4'
personality.wide$wave_5 <- personality.wide$'5'
personality.wide <- personality.wide %>%
mutate (w_1 = (wave_1 - wave_1)/365,
w_2 = (wave_2 - wave_1)/365,
w_3 = (wave_3 - wave_1)/365,
w_4 = (wave_4 - wave_1)/365,
w_5 = (wave_5 - wave_1)/365)
personality.long <- personality.wide %>%
select(mapid, w_1:w_5) %>%
gather(wave, year, -mapid) %>%
separate(wave, c('weeks', 'wave' ), sep="_") %>%
select(-weeks)
personality.long$wave <-  as.numeric(personality.long$wave)
personality <- personality %>%
left_join(personality.long, by = c('mapid', 'wave' ))
